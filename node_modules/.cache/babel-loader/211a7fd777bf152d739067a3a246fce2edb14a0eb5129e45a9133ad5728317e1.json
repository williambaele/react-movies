{"ast":null,"code":"import _regeneratorRuntime from\"/Users/test/Desktop/Dev/react-movies/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/test/Desktop/Dev/react-movies/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/test/Desktop/Dev/react-movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import Card from'../components/Card';import Header from'../components/Header';import{useNavigate}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Liked=function Liked(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listData=_useState2[0],setListData=_useState2[1];useEffect(function(){var moviesId=window.localStorage.movies?window.localStorage.movies.split(\",\"):[];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var newData,i,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:newData=[];i=0;case 2:if(!(i<moviesId.length)){_context.next=10;break;}_context.next=5;return axios.get(\"https://api.themoviedb.org/3/movie/\".concat(moviesId[i],\"?api_key=1a4b0f5e89813caf7e80649aed21c524&language=fr-FR\"));case 5:res=_context.sent;newData.push(res.data);case 7:i++;_context.next=2;break;case 10:setListData(newData);case 11:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var removeAllLikes=function removeAllLikes(){window.localStorage.movies=\"\";setListData([]);navigate(0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#1c2541]\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex flex-col md:gap-4 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:listData.length>0?/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#0b132b] w-1/3 py-1 rounded-lg\",onClick:function onClick(){removeAllLikes();},children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-md font-bold\",children:\"Delete all liked movies\"})}):\"\"}),/*#__PURE__*/_jsx(\"div\",{class:\"grid grid-cols-1 md:grid-cols-4 gap-4 py-10 px-4 md:px-0\",children:listData.length>0?listData.map(function(movie){return/*#__PURE__*/_jsx(Card,{movie:movie},movie.id);}):/*#__PURE__*/_jsx(\"div\",{className:\"col-span-4 flex justify-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-300 text-center\",children:\"No liked movie\"})})})]})]});};export default Liked;","map":{"version":3,"names":["axios","React","useEffect","useState","Card","Header","useNavigate","jsx","_jsx","jsxs","_jsxs","Liked","navigate","_useState","_useState2","_slicedToArray","listData","setListData","moviesId","window","localStorage","movies","split","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newData","i","res","wrap","_callee$","_context","prev","next","length","get","concat","sent","push","data","stop","apply","arguments","removeAllLikes","className","children","onClick","class","map","movie","id"],"sources":["/Users/test/Desktop/Dev/react-movies/src/pages/Liked.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Card from '../components/Card';\nimport Header from '../components/Header';\nimport { useNavigate } from 'react-router'\n\n\nconst Liked = () => {\n  const navigate = useNavigate()\n  const [listData, setListData] = useState([]);\n  useEffect(() => {\n    let moviesId = window.localStorage.movies\n    ? window.localStorage.movies.split(\",\")\n    : [];\n\n  const fetchData = async () => {\n    const newData = [];\n    for (let i = 0; i < moviesId.length; i++) {\n      const res = await axios.get(\n        `https://api.themoviedb.org/3/movie/${moviesId[i]}?api_key=1a4b0f5e89813caf7e80649aed21c524&language=fr-FR`\n      );\n      newData.push(res.data);\n    }\n    setListData(newData);\n  };\n\n  fetchData();\n    }, []);\n    const removeAllLikes = () => {\n  window.localStorage.movies = \"\";\n  setListData([]);\n  navigate(0)\n};\n  return (\n    <div className=\"min-h-screen bg-[#1c2541]\">\n      <Header/>\n      <div className=\"container mx-auto flex flex-col md:gap-4 py-4\">\n        <div className=\"flex justify-center\">\n          {listData.length > 0 ?\n            <button className=\"bg-[#0b132b] w-1/3 py-1 rounded-lg\" onClick={() =>{ removeAllLikes();}}>\n              <p className=\"text-gray-300 text-md font-bold\">Delete all liked movies</p>\n            </button>\n          : (\n              \"\"\n            )}\n        </div>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 py-10 px-4 md:px-0\">\n        {listData.length > 0 ? (\n          listData.map((movie) => <Card movie={movie} key={movie.id} />)\n        ) : (\n          <div className=\"col-span-4 flex justify-center\">\n            <h2 className=\"text-3xl font-bold text-gray-300 text-center\">No liked movie</h2>\n          </div>\n        )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Liked;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}