{"ast":null,"code":"import _slicedToArray from\"/Users/test/Desktop/Dev/react-movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from\"axios\";import Card from'../components/Card';import Header from'../components/Header';import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),moviesData=_useState2[0],setMoviesData=_useState2[1];var _useState3=useState(\"boxe\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),sortGoodBad=_useState6[0],setSortGoodBad=_useState6[1];useEffect(function(){axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=1a4b0f5e89813caf7e80649aed21c524&query=\"+search+\"&language=fr-FR\").then(function(res){return setMoviesData(res.data.results);});},[search]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#1c2541]\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex flex-col md:gap-4 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/3 w-2/3 self-center\",children:[/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex rounded-md overflow-hidden\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"py-2 w-full rounded-md rounded-r-none outline-none pl-4\",placeholder:\"Your next movie\",onChange:function onChange(e){return setSearch(e.target.value);}})})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-right\",autoClose:4000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"colored\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/3 w-2/3 flex gap-3 self-center py-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSortGoodBad(\"goodToBad\");},className:\"bg-[#0b132b] w-1/2 py-1 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 font-bold\",children:\"Top\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSortGoodBad(\"badToGood\");},className:\"bg-[#0b132b] w-1/2 py-1 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 font-bold\",children:\"Flop\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"grid grid-cols-1 md:grid-cols-4 gap-4 py-10 px-4 md:px-0\",children:moviesData.slice(0,20).sort(function(a,b){if(sortGoodBad===\"badToGood\"){return a.vote_average-b.vote_average;}else{return b.vote_average-a.vote_average;}}).map(function(movie){return/*#__PURE__*/_jsx(Card,{movie:movie},movie.id);})})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","axios","Card","Header","ToastContainer","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","moviesData","setMoviesData","_useState3","_useState4","search","setSearch","_useState5","_useState6","sortGoodBad","setSortGoodBad","get","then","res","data","results","className","children","type","placeholder","onChange","e","target","value","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","onClick","class","slice","sort","a","b","vote_average","map","movie","id"],"sources":["/Users/test/Desktop/Dev/react-movies/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport Card from '../components/Card';\nimport Header from '../components/Header';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Home = () => {\n    const [moviesData, setMoviesData] = useState([]);\n    const [search, setSearch] = useState(\"boxe\");\n    const [sortGoodBad, setSortGoodBad] = useState(null);\n\n    useEffect(() => {\n      axios\n        .get(\"https://api.themoviedb.org/3/search/movie?api_key=1a4b0f5e89813caf7e80649aed21c524&query=\" + search + \"&language=fr-FR\")\n        .then((res) => setMoviesData(res.data.results));\n      }, [search]);\n\n\n  return (\n    <div className=\"min-h-screen bg-[#1c2541]\">\n      <Header/>\n      <div className=\"container mx-auto flex flex-col md:gap-4 py-4\">\n        <div className=\"md:w-1/3 w-2/3 self-center\">\n          <form>\n            <div className=\"flex rounded-md overflow-hidden\">\n              <input type=\"text\" className=\"py-2 w-full rounded-md rounded-r-none outline-none pl-4\" placeholder='Your next movie'  onChange={(e) => setSearch(e.target.value)}/>\n            </div>\n          </form>\n          <ToastContainer\n            position=\"bottom-right\"\n            autoClose={4000}\n            hideProgressBar={false}\n            newestOnTop={false}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n            theme=\"colored\"\n            />\n        </div>\n        <div className=\"md:w-1/3 w-2/3 flex gap-3 self-center py-2\">\n          <button onClick={() => setSortGoodBad(\"goodToBad\")} className=\"bg-[#0b132b] w-1/2 py-1 rounded-lg\">\n            <p className=\"text-gray-300 font-bold\">Top</p>\n          </button>\n          <button onClick={() => setSortGoodBad(\"badToGood\")} className=\"bg-[#0b132b] w-1/2 py-1 rounded-lg\">\n            <p className=\"text-gray-300 font-bold\">Flop</p>\n          </button>\n        </div>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 py-10 px-4 md:px-0\">\n        {moviesData\n        .slice(0, 20)\n        .sort((a,b) => {\n          if(sortGoodBad === \"badToGood\"){\n            return a.vote_average - b.vote_average;\n          } else {\n            return b.vote_average - a.vote_average;\n          }\n        })\n        .map((movie) => (\n            <Card movie={movie} key={movie.id} />\n          ))}\n        </div>\n\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}